{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/highlight-app/context/AuthContext.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n  const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (storedUser) \r\n    {setUser(storedUser);\r\n    }\r\n}, []);\r\n\r\n  const register = (email, password) => {\r\n    const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n\r\n    const userExists = users.find((u) => u.email === email);\r\n\r\n    if (userExists) {\r\n      alert(\"User already exists. Please login.\");\r\n      return false;\r\n    }\r\n\r\n    users.push({ email, password, role: \"user\" });\r\n    localStorage.setItem(\"users\", JSON.stringify(users));\r\n    \r\n    return true;\r\n  };\r\n\r\nconst login = (email, password) => {\r\n  const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n  const found = users.find(\r\n    (u) => u.email === email && u.password === password\r\n  );\r\n\r\n  if (found) {\r\n    localStorage.setItem(\"user\", JSON.stringify(found));\r\n    setUser(found);   \r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"authUser\");\r\n    setUser(null);\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, register, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,4BAAc,IAAA,8KAAa;AAE1B,SAAS,aAAa,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACV,MAAM,aAAa,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;YACnD,IAAI,YACF;gBAAC,QAAQ;YACT;QACJ;iCAAG,EAAE;IAEH,MAAM,WAAW,CAAC,OAAO;QACvB,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,aAAa,EAAE;QAE7D,MAAM,aAAa,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK;QAEjD,IAAI,YAAY;YACd,MAAM;YACN,OAAO;QACT;QAEA,MAAM,IAAI,CAAC;YAAE;YAAO;YAAU,MAAM;QAAO;QAC3C,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;QAE7C,OAAO;IACT;IAEF,MAAM,QAAQ,CAAC,OAAO;QACpB,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,aAAa,EAAE;QAC7D,MAAM,QAAQ,MAAM,IAAI,CACtB,CAAC,IAAM,EAAE,KAAK,KAAK,SAAS,EAAE,QAAQ,KAAK;QAG7C,IAAI,OAAO;YACT,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,QAAQ;YACR,OAAO;QACT;QAEA,OAAO;IACT;IAGE,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAU;QAAO;kBAC1D;;;;;;AAGP;GAtDgB;;QAEC,kJAAS;;;KAFV;AAwDT,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;IAAtC"}}]
}